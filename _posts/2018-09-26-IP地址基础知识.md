---
layout: post
title: "IP地址基础知识"
categories: [计算机网络, IP地址]
tags: [学习笔记]
---

- 什么是IP地址

  IP地址是一个32位的二进制数字，被分为4个字节。因此，IP地址最常用的表示形式是“点分十进制”，比如192.168.1.100。点分十进制每个十进制数字都在0~255之间。

<!--more-->

- IP地址的划分
  IP地址中一部分是网络ID，一部分是主机ID。根据32位中网络ID和主机ID的位数，对IP地址进行了划分：

  | 分类   | 网络ID位数                                   | 主机ID位数 |
  | ---- | ---------------------------------------- | ------ |
  | A    | 8(0000,0000~0111,111)                    | 24     |
  | B    | 16(1000,0000 0000,0000~1011,1111 1111 1111) | 16     |
  | C    | 24(1100,0000,0000,0000 0000,0000~1101,1111 1111,1111 1111,1111) | 8      |

  A类地址以 0 开头，所以A类地址的网络ID为0000,0000~0111,1111 即0~127；  
  B类地址以 10 开头，所以B类地址的网络ID为1000,0000 0000,0000~1011,1111 1111,1111 即128.0~191.255；  
  C类地址以 110 开头，所以B类地址的网络ID为1100,0000 0000,0000 0000,0000~1101,1111 1111,1111 1111,1111即192.0.0~223.255.255；  
  全部为0代表当前主机，全部为1的地址代表当前子网的广播地址。  

  所以，A类地址理论上可以有$2^{24} - 2 = 16,777,214$个主机地址  
  B类地址理论上可以有$2^{16} - 2 = 65,534$个主机地址，  
  C类地址理论上可以有$2^8 - 2 = 254$个主机地址  

- 子网掩码

    如果直接采用A类或者B类地址，会产生极大的浪费。因此，实际中是通过子网掩码来划分出更小的网络。  
    子网掩码是采用原有分类中，主机ID部分作为子网地址，将原本的网络ID再进行一次划分。子网掩码中对应网络ID的部分全部为1，对应主机ID的部分全部为0。  
    例如，  
    IP地址为：172.20.100.52  
    子网掩码为：255.255.255.192  
    而1100，0000 = 192，也就是说，该IP地址中，前26位是网络ID，后6位是主机ID。  
    子网掩码的另一种表示方式是在IP地址后追加网络ID的位数，用“/”隔开。  
    例如：172.20.100.52/26  

    ***

- 其他

    在IPv4中，32位二进制，能够表示的IP地址，有$2^{32}=4,294,967,296$个，40多亿是明显不够的。

    对于IP资源短缺的情况，也有对应的思路和解决方案。

    -   提高可用的IP地址的数量

        从IP地址形式来看，增加IP地址的位数是很直接的方法。IPv6就是用6*8=48位来表示IP地址，有$2^{48}=281，474,976,710,656$个，这样就目前的情况来看是不会出现IP短缺的情况。但是因为当前IP地址依旧是使用4个字节32的形式，因此如何做到兼容是需要考虑的。

    -   复用已有的IP地址

        简单来说，就是让同一个IP，让多个人来使用。

        这一方面已有公网IP和私有IP，在同一个局域网内，大家使用不同的IP地址进行通信，但是到了互联网上，就使用公共IP通信。

    ​
